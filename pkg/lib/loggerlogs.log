{"timestamp":"13:27:27.284","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"14:01:01.217","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"14:01:01.224","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"14:01:01.246","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"14:01:01.355","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"14:01:01.439","level":"ERROR","message":"Failed to run migrations ","data":{"error":{}}}
{"timestamp":"14:52:52.297","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"14:52:52.298","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"14:52:52.308","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"14:52:52.368","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"14:52:52.394","level":"ERROR","message":"Failed to run migrations ","data":{"error":{}}}
{"timestamp":"15:19:19.079","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"15:19:19.082","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"15:19:19.106","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"15:19:19.207","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"15:19:19.210","level":"ERROR","message":"Failed to run migrations ","data":{"error":"failed to run migrations up: Dirty database version 1. Fix and force version."}}
{"timestamp":"12:39:39.718","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"12:39:39.722","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"12:39:39.777","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"12:40:40.077","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"12:40:40.083","level":"ERROR","message":"Failed to run migrations ","data":{"error":"failed to run migrations up: Dirty database version 1. Fix and force version."}}
{"timestamp":"12:43:43.243","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"12:43:43.244","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"12:43:43.265","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"12:43:43.451","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"12:43:43.495","level":"ERROR","message":"Failed to run migrations ","data":{"error":"failed to run migrations up: migration failed: CREATE INDEX CONCURRENTLY cannot run inside a transaction block in line 0: -- Migration: 001_create_orders_table.up.sql\r\n-- Создание основной таблицы заказов\r\n\r\nCREATE TABLE IF NOT EXISTS orders (\r\n    id SERIAL PRIMARY KEY,\r\n    order_uid VARCHAR(255) NOT NULL UNIQUE,\r\n    track_number VARCHAR(255) NOT NULL,\r\n    entry VARCHAR(10) NOT NULL,\r\n    locale VARCHAR(10) NOT NULL DEFAULT 'en',\r\n    internal_signature TEXT,\r\n    customer_id VARCHAR(255) NOT NULL,\r\n    delivery_service VARCHAR(100) NOT NULL,\r\n    shardkey VARCHAR(10) NOT NULL,\r\n    sm_id INTEGER NOT NULL,\r\n    date_created TIMESTAMP WITH TIME ZONE NOT NULL,\r\n    oof_shard VARCHAR(10) NOT NULL,\r\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\r\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\r\n);\r\n\r\n-- Индексы для оптимизации запросов\r\nCREATE INDEX CONCURRENTLY IF NOT EXISTS idx_orders_order_uid ON orders(order_uid);\r\nCREATE INDEX CONCURRENTLY IF NOT EXISTS idx_orders_track_number ON orders(track_number);\r\nCREATE INDEX CONCURRENTLY IF NOT EXISTS idx_orders_customer_id ON orders(customer_id);\r\nCREATE INDEX CONCURRENTLY IF NOT EXISTS idx_orders_date_created ON orders(date_created);\r\nCREATE INDEX CONCURRENTLY IF NOT EXISTS idx_orders_created_at ON orders(created_at);\r\nCREATE INDEX CONCURRENTLY IF NOT EXISTS idx_orders_shardkey ON orders(shardkey);\r\n\r\n-- Комментарии для документации\r\nCOMMENT ON TABLE orders IS 'Основная таблица заказов';\r\nCOMMENT ON COLUMN orders.order_uid IS 'Уникальный идентификатор заказа';\r\nCOMMENT ON COLUMN orders.track_number IS 'Номер для отслеживания';\r\nCOMMENT ON COLUMN orders.customer_id IS 'Идентификатор клиента';\r\nCOMMENT ON COLUMN orders.shardkey IS 'Ключ для шардирования';\r\nCOMMENT ON COLUMN orders.sm_id IS 'Идентификатор склада';\r\nCOMMENT ON COLUMN orders.oof_shard IS 'Шард для out-of-stock операций';\r\n (details: pq: CREATE INDEX CONCURRENTLY cannot run inside a transaction block)"}}
{"timestamp":"13:01:01.427","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"13:01:01.427","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"13:01:01.443","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"13:01:01.537","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"13:01:01.542","level":"ERROR","message":"Failed to run migrations ","data":{"error":"failed to run migrations up: first .: file does not exist"}}
{"timestamp":"13:00:00.562","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"13:00:00.563","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"13:00:00.576","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"13:00:00.617","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"13:00:00.619","level":"ERROR","message":"Failed to run migrations ","data":{"error":"failed to run migrations up: first .: file does not exist"}}
{"timestamp":"21:27:27.772","level":"INFO","message":"Starting application with configuration ","data":{"config":{"DB":{"Db":"orders","Host":"postgres","Password":"postgres","Port":5432,"User":"postgres"},"Environment":"development","HTTPPort":8080,"Redis":{"Host":"redis","Port":6379}}}}
{"timestamp":"21:27:27.776","level":"INFO","message":"Attempting to connect to PostgreSQL ","data":{"database":"orders","host":"postgres","port":5432}}
{"timestamp":"21:27:27.792","level":"INFO","message":"Successfully connected to PostgreSQL database \n","data":{}}
{"timestamp":"21:27:27.875","level":"INFO","message":"Running migrations up... \n","data":{}}
{"timestamp":"21:27:27.879","level":"ERROR","message":"Failed to run migrations ","data":{"error":"failed to run migrations up: first .: file does not exist"}}
